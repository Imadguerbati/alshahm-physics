<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù… - Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVJkEZSMUkrQ6usKICHbOfvW2/3M+hNnbZm5g3R/DwTvJkLkZT5Hf/KVptL+fzNfQfuQQr8vL9g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --color-primary: #2196F3;
            --color-primary-dark: #1976D2;
            --color-accent: #FF6B35;
            --color-success: #4CAF50;
            --color-text: #1F2937;
            --color-light: #F3F4F6;
            --color-white: #FFFFFF;
            --color-border: #E5E7EB;
            --color-danger: #EF4444;
            --space-8: 8px;
            --space-16: 16px;
            --space-24: 24px;
            --space-32: 32px;
            --radius-base: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--color-text);
            background-color: var(--color-white);
            line-height: 1.6;
        }

        nav {
            background: var(--color-white);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-16) var(--space-32);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .nav-links {
            display: flex;
            gap: var(--space-32);
            list-style: none;
            align-items: center;
        }

        .nav-links a {
            color: var(--color-text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--color-primary);
        }

        .btn {
            background: var(--color-primary);
            color: var(--color-white);
            border: none;
            padding: var(--space-8) var(--space-24);
            border-radius: var(--radius-base);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: var(--color-primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
        }

        .btn-secondary:hover {
            background: var(--color-primary);
            color: var(--color-white);
        }

        .btn-danger {
            background: var(--color-danger);
            color: var(--color-white);
        }

        .btn-danger:hover {
            background: #DC2626;
        }

        .hero {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: var(--color-white);
            padding: 80px var(--space-32);
            text-align: center;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(76, 175, 80, 0.1) 0%, transparent 50%);
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: var(--space-24);
            font-weight: 700;
            line-height: 1.2;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: var(--space-32);
            opacity: 0.95;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: var(--space-16);
            justify-content: center;
            flex-wrap: wrap;
        }

        .hero .btn {
            padding: var(--space-16) var(--space-32);
            font-size: 16px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-32);
        }

        section {
            padding: 60px var(--space-32);
            border-bottom: 1px solid var(--color-border);
        }

        section h2 {
            text-align: center;
            font-size: 36px;
            margin-bottom: var(--space-32);
            color: var(--color-primary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-24);
            margin-bottom: var(--space-32);
        }

        .product-card {
            background: var(--color-white);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            overflow: hidden;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
        }

        .product-badge {
            background: var(--color-accent);
            color: var(--color-white);
            padding: var(--space-8) var(--space-16);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            position: absolute;
            top: var(--space-16);
            right: var(--space-16);
            border-radius: var(--radius-base);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--color-white);
            position: relative;
        }

        .product-content {
            padding: var(--space-24);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .product-description {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: var(--space-16);
            flex-grow: 1;
        }

        .product-price {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-16);
        }

        .product-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #9CA3AF;
            margin-bottom: var(--space-16);
        }

        .free-badge {
            background: var(--color-success);
            color: white;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-base);
            font-weight: 600;
            text-align: center;
        }

        .product-card .btn {
            width: 100%;
            text-align: center;
            margin-top: auto;
        }

        .feature-card {
            text-align: center;
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--color-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            margin: 0 auto var(--space-16);
        }

        .feature-card h3 {
            font-size: 18px;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .feature-card p {
            color: #6B7280;
            font-size: 14px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-32);
        }

        .stats {
            background: var(--color-light);
            padding: var(--space-32);
            border-radius: var(--radius-base);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-32);
            text-align: center;
        }

        .stat {
            padding: var(--space-16);
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-8);
        }

        .stat-label {
            font-size: 14px;
            color: var(--color-text);
            font-weight: 500;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-32);
            align-items: center;
        }

        .about-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            border-radius: var(--radius-base);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            color: var(--color-white);
        }

        .about-text h3 {
            font-size: 28px;
            margin-bottom: var(--space-16);
            color: var(--color-primary);
        }

        .about-text p {
            margin-bottom: var(--space-16);
            color: #6B7280;
            line-height: 1.8;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 24px;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--color-accent);
            color: var(--color-white);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--color-white);
            padding: var(--space-32);
            border-radius: var(--radius-base);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-24);
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-text);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #6B7280;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: var(--color-text);
        }

        .form-group {
            margin-bottom: var(--space-16);
        }

        .form-label {
            font-weight: 600;
            margin-bottom: var(--space-8);
            display: block;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-size: 14px;
            font-family: inherit;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        .cart-items {
            margin-bottom: var(--space-24);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: var(--space-16);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
            align-items: center;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: var(--space-8);
        }

        .cart-item-price {
            color: var(--color-primary);
            font-weight: 600;
        }

        .remove-btn {
            background: var(--color-danger);
            color: white;
            border: none;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s;
        }

        .remove-btn:hover {
            background: #DC2626;
        }

        .cart-total {
            font-size: 20px;
            font-weight: 700;
            text-align: right;
            padding: var(--space-16);
            background: var(--color-light);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-24);
        }

        .checkout-btn {
            width: 100%;
            padding: var(--space-16);
            background: var(--color-success);
            color: white;
            border: none;
            border-radius: var(--radius-base);
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .checkout-btn:hover {
            background: #45a049;
        }

        .empty-cart {
            text-align: center;
            padding: var(--space-32);
            color: #6B7280;
        }

        .success-msg {
            display: none;
            background: var(--color-success);
            color: white;
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
            text-align: center;
        }

        .success-msg.show {
            display: block;
        }

        footer {
            background: var(--color-text);
            color: var(--color-white);
            padding: var(--space-32);
            text-align: center;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-32);
            margin-bottom: var(--space-32);
            text-align: right;
        }

        .footer-section h3 {
            font-size: 16px;
            margin-bottom: var(--space-16);
            color: var(--color-primary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: var(--space-8);
        }

        .footer-section a {
            color: #D1D5DB;
            text-decoration: none;
            transition: color 0.3s;
            font-size: 14px;
        }

        .footer-section a:hover {
            color: var(--color-primary);
        }

        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: var(--space-24);
            font-size: 14px;
            color: #9CA3AF;
        }

        .social-icons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: var(--space-24);
        }

        .social-icons a {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            text-decoration: none;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .social-icons a:hover {
            transform: scale(1.15);
            opacity: 0.85;
        }

        .social-icons a.youtube {
            background-color: #FF0000;
        }

        .social-icons a.facebook {
            background-color: #1877F2;
        }

        .social-icons a.telegram {
            background-color: #0088cc;
        }

        .social-icons a.twitter {
            background-color: #1DA1F2;
        }

        .profile-section {
            background: var(--color-light);
            padding: var(--space-24);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-24);
        }

        .profile-header {
            display: flex;
            gap: var(--space-16);
            align-items: center;
            margin-bottom: var(--space-16);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--color-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
        }

        .profile-info h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .profile-info p {
            margin: 0;
            color: #6B7280;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-24);
        }

        /* Purchase History Styles */
        .purchases-container {
            display: grid;
            gap: var(--space-24);
        }

        .purchase-card {
            background: var(--color-white);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            overflow: hidden;
            transition: all 0.3s;
        }

        .purchase-card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .purchase-header {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            padding: var(--space-16);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-16);
        }

        .purchase-order-id {
            font-weight: 700;
            font-size: 16px;
        }

        .purchase-date {
            font-size: 12px;
            opacity: 0.9;
        }

        .purchase-body {
            padding: var(--space-24);
        }

        .purchase-products {
            margin-bottom: var(--space-24);
        }

        .purchase-product-item {
            padding: var(--space-12) 0;
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .purchase-product-item:last-child {
            border-bottom: none;
        }

        .product-info {
            flex: 1;
        }

        .product-title-purchase {
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: var(--space-4);
        }

        .product-quantity {
            font-size: 12px;
            color: #6B7280;
        }

        .product-price-purchase {
            text-align: right;
            font-weight: 600;
            color: var(--color-primary);
        }

        .purchase-total {
            background: var(--color-light);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-16);
            font-weight: 700;
        }

        .purchase-status {
            display: flex;
            gap: var(--space-16);
            align-items: center;
            margin-bottom: var(--space-24);
            padding: var(--space-16);
            background: var(--color-light);
            border-radius: var(--radius-base);
        }

        .status-item {
            flex: 1;
            text-align: center;
        }

        .status-icon {
            font-size: 28px;
            margin-bottom: var(--space-8);
        }

        .status-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: var(--space-4);
        }

        .status-value {
            font-size: 11px;
            color: #6B7280;
        }

        .delivery-info {
            background: #F0F9FF;
            border-left: 4px solid var(--color-primary);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
        }

        .delivery-status {
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: var(--space-8);
        }

        .delivery-details {
            font-size: 13px;
            color: #6B7280;
            line-height: 1.6;
        }

        .empty-purchases {
            text-align: center;
            padding: var(--space-32);
            color: #6B7280;
        }

        .empty-purchases p {
            margin: var(--space-16) 0;
        }

        .admin-section {
            margin-bottom: var(--space-32);
            padding: var(--space-24);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-light);
        }

        .admin-section h3 {
            color: var(--color-primary);
            margin-bottom: var(--space-16);
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .product-list {
            margin-bottom: var(--space-24);
        }

        .product-item {
            background: white;
            padding: var(--space-16);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-item-info {
            flex: 1;
        }

        .product-item-title {
            font-weight: 600;
            margin-bottom: var(--space-8);
        }

        .product-item-details {
            font-size: 13px;
            color: #6B7280;
        }

        .product-item-actions {
            display: flex;
            gap: var(--space-8);
        }

        .btn-small {
            padding: var(--space-8) var(--space-12);
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .nav-links {
                gap: var(--space-16);
                flex-wrap: wrap;
            }

            .hero h1 {
                font-size: 32px;
            }

            .hero p {
                font-size: 16px;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .about-image {
                height: 300px;
            }

            section h2 {
                font-size: 28px;
            }

            .modal-content {
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="logo">
            ğŸ“š Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù…
        </div>
        <ul class="nav-links">
            <li><a href="#products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
            <li><a href="#features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a></li>
            <li><a href="#about">Ø¹Ù†ÙŠ</a></li>
            <li><a href="#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</a></li>
            <li><a href="#" onclick="toggleUserProfile()" style="text-decoration: none;">ğŸ‘¤</a></li>
            <li>
                <div class="cart-icon" onclick="toggleCart()">
                    ğŸ›’
                    <div class="cart-badge" id="cartBadge" style="display: none;">0</div>
                </div>
            </li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1>ØªØ¹Ù„ÙŠÙ… Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ³Ù‡Ù„Ø©</h1>
        <p>Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© ØªÙˆÙØ± Ø¯ÙˆØ±Ø§Øª ÙˆØ´Ø±ÙˆØ­Ø§Øª ÙÙŠØ²ÙŠØ§Ø¡ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø®ÙØ¶Ø©</p>
        <div class="hero-buttons">
            <a href="#products" class="btn">Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            <button class="btn btn-secondary" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})">ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¢Ù†</button>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="container">
        <h2>Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
        <div class="products-grid" id="productsGrid">
            <!-- Products will be populated here -->
        </div>
    </section>

    <!-- Features Section -->
    <section id="features">
        <div class="container">
            <h2>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù…Ù†ØµØªÙ†Ø§ØŸ</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">â­</div>
                    <h3>Ø´Ø±Ø­ Ù…ÙØµÙ„ ÙˆØ³Ù‡Ù„</h3>
                    <p>Ø´Ø±ÙˆØ­Ø§Øª Ø¨Ø³ÙŠØ·Ø© ÙˆÙˆØ§Ø¶Ø­Ø© ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„ØµØ¹Ø¨Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“±</div>
                    <h3>Ù…ØªØ§Ø­ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</h3>
                    <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª ÙˆÙ…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù† Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø­Ø§Ø³ÙˆØ¨</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’¡</div>
                    <h3>Ù…Ø­ØªÙˆÙ‰ Ø¹Ù…Ù„ÙŠ</h3>
                    <p>ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø¹Ù…Ù„ÙŠØ© ÙˆØªÙ…Ø§Ø±ÙŠÙ† ØªÙØ§Ø¹Ù„ÙŠØ© ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“š</div>
                    <h3>Ù…ÙˆØ§Ø±Ø¯ Ø´Ø§Ù…Ù„Ø©</h3>
                    <p>Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆÙ…Ù„Ø®ØµØ§Øª ÙˆÙ…Ù„ÙØ§Øª PDF Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø©</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ‘¨â€ğŸ«</div>
                    <h3>Ø¯Ø¹Ù… Ù…Ø¨Ø§Ø´Ø±</h3>
                    <p>ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± Ù…Ø¹ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“</div>
                    <h3>Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªØ±ÙØ©</h3>
                    <p>Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯Ø© Ù…Ø¹ØªØ±ÙØ© Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… ÙƒÙ„ Ø¯ÙˆØ±Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section style="background: var(--color-light); border-bottom: none;">
        <div class="container">
            <div class="stats">
                <div class="stat">
                    <div class="stat-number">5000+</div>
                    <div class="stat-label">Ø·Ø§Ù„Ø¨ ÙˆØ·Ø§Ù„Ø¨Ø©</div>
                </div>
                <div class="stat">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Ø¯ÙˆØ±Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©</div>
                </div>
                <div class="stat">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Ø³Ø§Ø¹Ø© Ù…Ø­ØªÙˆÙ‰</div>
                </div>
                <div class="stat">
                    <div class="stat-number">98%</div>
                    <div class="stat-label">Ø±Ø¶Ø§ Ø§Ù„Ø·Ù„Ø§Ø¨</div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="container">
            <h2>Ø¹Ù†ÙŠ</h2>
            <div class="about-content">
                <div class="about-image">ğŸ‘¨â€ğŸ«</div>
                <div class="about-text">
                    <h3>Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù…</h3>
                    <p><strong>Ø­Ø§ØµÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù…Ø§Ø¬Ø³ØªÙŠØ± ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</strong></p>
                    <p>Ø£Ø¤Ù…Ù† Ø£Ù† Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ù„ÙŠØ³Øª ØµØ¹Ø¨Ø©ØŒ Ø¨Ù„ ØªØ­ØªØ§Ø¬ ÙÙ‚Ø· Ø¥Ù„Ù‰ Ø´Ø±Ø­ ÙˆØ§Ø¶Ø­ ÙˆØ·Ø±ÙŠÙ‚Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø­Ø¯ÙŠØ«Ø©. Ù‡Ø¯ÙÙŠ Ù‡Ùˆ Ø¬Ø¹Ù„ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ù…ÙÙ‡ÙˆÙ…Ø© ÙˆÙ…Ù…ØªØ¹Ø© Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Signup Modal -->
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                <button class="close-btn" onclick="document.getElementById('signupModal').classList.remove('active')">âœ•</button>
            </div>
            <form id="signupForm" onsubmit="createAccount(event)" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
                    <input type="text" id="signupName" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                    <input type="email" id="signupEmail" class="form-control" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
                    <input type="tel" id="signupPhone" class="form-control" placeholder="+966..." required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                    <input type="password" id="signupPassword" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                    <input type="password" id="signupPasswordConfirm" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ğŸ“¸ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ:</label>
                    <input type="file" id="profileImage" class="form-control" accept="image/*" required>
                </div>
                <div style="margin-top: var(--space-16); padding: var(--space-16); background: var(--color-light); border-radius: var(--radius-base);">
                    <p style="margin: 0 0 var(--space-8) 0; font-weight: 600;">Ù…Ø¹Ø§ÙŠÙ†Ø© ØµÙˆØ±ØªÙƒ:</p>
                    <div style="display: flex; align-items: center; gap: var(--space-16);">
                        <div class="profile-avatar" id="avatarPreview" style="width: 100px; height: 100px; font-size: 40px;">ğŸ‘¤</div>
                        <div style="flex: 1;">
                            <p id="imageFileName" style="margin: 0; color: #6B7280; font-size: 14px;">Ù„Ù… ØªØ®ØªØ± ØµÙˆØ±Ø© Ø¨Ø¹Ø¯</p>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn" style="width: 100%; margin-top: var(--space-24);">âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
            </form>

            <div id="signupOptions" style="text-align: center;">
                <p style="margin-bottom: var(--space-16);">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:</p>
                <button class="btn" style="width: 100%; margin-bottom: var(--space-12);" onclick="switchToForm()">ğŸ“ Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©</button>
                <button class="btn btn-secondary" style="width: 100%;" onclick="quickSignup()">âš¡ Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø±ÙŠØ¹ (ØµÙˆØ±Ø© Ø£Ùˆ Emoji)</button>
            </div>

            <!-- Quick Signup Form -->
            <form id="quickSignupForm" onsubmit="submitQuickSignup(event)" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„:</label>
                    <input type="text" id="quickName" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø£ÙˆÙ„" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù„Ù‚Ø¨ (Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ):</label>
                    <input type="text" id="quickLastname" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ù„Ù‚Ø¨Ùƒ" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                    <input type="email" id="quickEmail" class="form-control" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
                    <input type="tel" id="quickPhone" class="form-control" placeholder="+966..." required>
                </div>

                <div style="padding: var(--space-16); background: var(--color-light); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                    <p style="margin: 0 0 var(--space-12) 0; font-weight: 600;">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©:</p>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: var(--space-8); cursor: pointer;">
                            <input type="checkbox" id="quickUseImage" onchange="toggleImageMode()">
                            <span>ğŸ“¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø©</span>
                        </label>
                    </div>

                    <div id="imageMode" style="display: none;">
                        <input type="file" id="quickImageFile" class="form-control" accept="image/*">
                    </div>

                    <div id="emojiMode">
                        <input type="text" id="quickEmoji" class="form-control" placeholder="Ø§Ø®ØªØ± emoji Ù…Ø«Ù„: ğŸ‘¨ ğŸ‘© ğŸ‘¨â€ğŸ“ ğŸ‘©â€ğŸ“" maxlength="2">
                    </div>
                </div>

                <button type="submit" class="btn" style="width: 100%; margin-bottom: var(--space-12);">âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
                <button type="button" class="btn btn-secondary" style="width: 100%;" onclick="document.getElementById('signupOptions').style.display = 'block'; document.getElementById('quickSignupForm').style.display = 'none';">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                <button class="close-btn" onclick="document.getElementById('loginModal').classList.remove('active')">âœ•</button>
            </div>
            <div id="loginOptions" style="text-align: center;">
                <p style="margin-bottom: var(--space-16);">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„:</p>
                <button class="btn" style="width: 100%; margin-bottom: var(--space-12);" onclick="switchToLoginForm()">ğŸ”‘ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</button>
                <button class="btn btn-secondary" style="width: 100%; margin-bottom: var(--space-12);" onclick="showSignupModal()">ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <!-- Login Form -->
            <form id="loginForm" onsubmit="handleLogin(event)" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <button type="submit" class="btn" style="width: 100%; margin-bottom: var(--space-12);">âœ… Ø¯Ø®ÙˆÙ„</button>
                <button type="button" class="btn btn-secondary" style="width: 100%;" onclick="document.getElementById('loginOptions').style.display = 'block'; document.getElementById('loginForm').style.display = 'none';">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </form>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div class="modal" id="userProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ‘¤ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</h2>
                <button class="close-btn" onclick="document.getElementById('userProfileModal').classList.remove('active')">âœ•</button>
            </div>
            <div id="profileContent"></div>
        </div>
    </div>

    <!-- Rating Section -->
    <section id="rating" style="padding: var(--space-64) 0; background: white;">
        <div class="container">
            <div style="text-align: center; margin-bottom: var(--space-48);">
                <h2 style="font-size: 32px; color: var(--color-text); margin-bottom: var(--space-16);">â­ Ù‚ÙŠÙ… ØªØ¬Ø±Ø¨ØªÙƒ Ù…Ø¹Ù†Ø§</h2>
                <p style="color: #6B7280; max-width: 600px; margin: 0 auto;">Ø±Ø£ÙŠÙƒ ÙŠÙ‡Ù…Ù†Ø§ ÙˆÙŠØ³Ø§Ø¹Ø¯Ù†Ø§ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø£ÙØ¶Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹</p>
            </div>
            
            <div style="max-width: 600px; margin: 0 auto; background: var(--color-light); padding: var(--space-32); border-radius: var(--radius-lg); box-shadow: var(--shadow-md);">
                <div style="display: flex; justify-content: center; gap: var(--space-12); margin-bottom: var(--space-24);" id="starRating">
                    <span class="star" onclick="setRating(1)" style="font-size: 40px; cursor: pointer; color: #D1D5DB;">â­</span>
                    <span class="star" onclick="setRating(2)" style="font-size: 40px; cursor: pointer; color: #D1D5DB;">â­</span>
                    <span class="star" onclick="setRating(3)" style="font-size: 40px; cursor: pointer; color: #D1D5DB;">â­</span>
                    <span class="star" onclick="setRating(4)" style="font-size: 40px; cursor: pointer; color: #D1D5DB;">â­</span>
                    <span class="star" onclick="setRating(5)" style="font-size: 40px; cursor: pointer; color: #D1D5DB;">â­</span>
                </div>
                <div class="form-group">
                    <textarea id="ratingComment" class="form-control" placeholder="Ø§ÙƒØªØ¨ Ø±Ø£ÙŠÙƒ Ù‡Ù†Ø§..." style="min-height: 120px;"></textarea>
                </div>
                <button class="btn" style="width: 100%;" onclick="submitRating()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</h2>
            <div style="text-align: center; max-width: 600px; margin: 0 auto;">
                <div style="margin-bottom: var(--space-24);">
                    <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h3>
                    <p style="margin-bottom: var(--space-16);">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: <span id="displayEmail">info@alshahm-physics.com</span></p>
                    <p style="margin-bottom: var(--space-16);">ğŸ“± Ø§Ù„ÙˆØ§ØªØ³: <span id="displayWhatsapp">+966 50 123 4567</span></p>
                    <p style="margin-bottom: var(--space-16);">ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹: <span id="displayWebsite">www.alshahm-physics.com</span></p>
                    <p>ğŸ’¬ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…: <span id="displayTelegram">@AlShahmPhysics</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
                <button class="close-btn" onclick="toggleCart()">âœ•</button>
            </div>
            <div class="success-msg" id="successMsg">âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!</div>
            <div class="cart-items" id="cartItems"></div>
            <div class="cart-total" id="cartTotal" style="display: none;">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: </span>
                <span class="cart-total-amount" id="totalAmount">0</span>
                <span style="margin-right: var(--space-8);" id="currencyDisplay">Ø±ÙŠØ§Ù„</span>
            </div>
            <button class="checkout-btn" id="checkoutBtn" onclick="checkout()" style="display: none;">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯ÙØ¹</button>
            <div class="empty-cart" id="emptyMsg">Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ ÙØ§Ø±ØºØ©</div>
        </div>
    </div>

    <!-- Admin Access Modal (Hidden) -->
    <div class="modal" id="adminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h2>
                <button class="close-btn" onclick="closeAdmin()">âœ•</button>
            </div>

            <div id="adminLoginForm" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´ÙØ±:</label>
                    <input type="password" id="adminPassword" class="form-control" placeholder="â—â—â—â—â—â—">
                </div>
                <button class="btn" style="width: 100%;" onclick="verifyAdmin()">Ø¯Ø®ÙˆÙ„</button>
            </div>

            <div id="adminPanel" style="display: none; visibility: hidden;">
                <!-- Products Management -->
                <div class="admin-section">
                    <h3>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
                        <input type="text" id="productTitle" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙˆØµÙ:</label>
                        <textarea id="productDescription" class="form-control" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"></textarea>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ø³Ø¹Ø±:</label>
                            <input type="number" id="productPrice" class="form-control" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©:</label>
                            <input type="text" id="productIcon" class="form-control" placeholder="ğŸ“š" maxlength="2">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ğŸ“¸ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬:</label>
                        <input type="file" id="productImage" class="form-control" accept="image/*">
                        <div style="margin-top: var(--space-12); padding: var(--space-12); background: var(--color-light); border-radius: var(--radius-base); text-align: center; display: none;" id="productImagePreview">
                            <img id="productImagePreviewImg" style="max-width: 100%; max-height: 200px; border-radius: var(--radius-base); margin-bottom: var(--space-8);">
                            <p style="margin: 0; font-size: 12px; color: #6B7280;" id="productImageFileName">ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø©</p>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ù…Ø¯Ø©:</label>
                            <input type="text" id="productDuration" class="form-control" placeholder="30 Ø³Ø§Ø¹Ø©">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨:</label>
                            <input type="text" id="productStudents" class="form-control" placeholder="2500+">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="productFree"> âœ… Ù…Ù†ØªØ¬ Ù…Ø¬Ø§Ù†ÙŠ
                        </label>
                    </div>
                    <button class="btn" style="width: 100%;" onclick="addProduct()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</button>
                </div>

                <!-- Message & Image Modal for Confirmation -->
                <div class="modal" id="paymentConfirmModal">
                    <div class="modal-content" style="max-width: 700px;">
                        <div class="modal-header">
                            <h2 class="modal-title">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</h2>
                            <button class="close-btn" onclick="closePaymentConfirmModal()">âœ•</button>
                        </div>
                        <div id="paymentConfirmContent">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Products List -->
                <div class="admin-section">
                    <h3>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
                    <div class="product-list" id="adminProductsList"></div>
                </div>

                <!-- Contact Settings -->
                <div class="admin-section">
                    <h3>ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ø· Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</h3>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                        <input type="email" id="emailInput" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³:</label>
                        <input type="tel" id="whatsappInput" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</label>
                        <input type="url" id="websiteInput" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÙÙŠØ³Ø¨ÙˆÙƒ (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙƒØ§Ù…Ù„):</label>
                        <input type="url" id="facebookInput" class="form-control" placeholder="https://facebook.com/...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ØªÙˆÙŠØªØ± (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙƒØ§Ù…Ù„):</label>
                        <input type="url" id="twitterInput" class="form-control" placeholder="https://twitter.com/...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙƒØ§Ù…Ù„):</label>
                        <input type="url" id="telegramInput" class="form-control" placeholder="https://t.me/...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÙŠÙˆØªÙŠÙˆØ¨ (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙƒØ§Ù…Ù„):</label>
                        <input type="url" id="youtubeInput" class="form-control" placeholder="https://youtube.com/...">
                    </div>
                    <button class="btn" style="width: 100%;" onclick="updateContactInfo()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                </div>

                <!-- System Settings -->
                <div class="admin-section">
                    <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¹Ù…Ù„Ø©:</label>
                        <select id="currencySelect" class="form-control">
                            <option value="SAR">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ (Ø±.Ø³)</option>
                            <option value="AED">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ (Ø¯.Ø¥)</option>
                            <option value="EGP">Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ (Ø¬.Ù…)</option>
                            <option value="KWD">Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ (Ø¯.Ùƒ)</option>
                            <option value="DZD">Ø¯ÙŠÙ†Ø§Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠ (Ø¯.Ø¬)</option>
                            <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ ($)</option>
                            <option value="EUR">ÙŠÙˆØ±Ùˆ (â‚¬)</option>
                        </select>
                    </div>
                    <button class="btn" style="width: 100%;" onclick="updateCurrency()">âœ”ï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù…Ù„Ø©</button>
                </div>

                <!-- Change Password Section -->
                <div class="admin-section">
                    <h3>ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
                    <div class="form-group">
                        <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                        <input type="password" id="currentAdminPassword" class="form-control" placeholder="â—â—â—â—â—â—">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                        <input type="password" id="newAdminPassword" class="form-control" placeholder="â—â—â—â—â—â—">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                        <input type="password" id="confirmAdminPassword" class="form-control" placeholder="â—â—â—â—â—â—">
                    </div>
                    <button class="btn" style="width: 100%;" onclick="changeAdminPassword()">ğŸ”„ ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
                </div>

                <!-- Orders Management Section -->
                <div class="admin-section">
                    <h3>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡</h3>
                    <div id="ordersListAdmin"></div>
                </div>

                <button class="btn btn-danger" style="width: 100%;" onclick="logoutAdmin()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
            </div>
        </div>
    </div>

    <!-- Purchase History Modal -->
    <div class="modal" id="purchaseHistoryModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ›ï¸ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
                <button class="close-btn" onclick="document.getElementById('purchaseHistoryModal').classList.remove('active')">âœ•</button>
            </div>
            <div id="purchaseHistoryContent" style="max-height: 70vh; overflow-y: auto;"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Ø§Ù„Ù…Ù†ØµØ©</h3>
                <ul>
                    <li><a href="#products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
                    <li><a href="#features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a></li>
                    <li><a href="#about">Ø¹Ù†ÙŠ</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Ø§Ù„Ø¯Ø¹Ù…</h3>
                <ul>
                    <li><a href="#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
                    <li><a href="#">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></li>
                    <li><a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>ØªØ§Ø¨Ø¹Ù†Ø§</h3>
                <div class="social-icons">
                    <a href="" id="socialYoutube" class="youtube" title="YouTube" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="" id="socialFacebook" class="facebook" title="Facebook" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="" id="socialTelegram" class="telegram" title="Telegram" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-telegram-plane"></i>
                    </a>
                    <a href="" id="socialTwitter" class="twitter" title="Twitter" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù… Ù„Ù„ÙÙŠØ²ÙŠØ§Ø¡. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        </div>
    </footer>

    <script>
        // Secure password hash (simple implementation)
        const ADMIN_PASSWORD_HASH = "7110eda4d09e062aa5e4a390b0a572ac0d2c64d2"; // sha1('12345')
        let adminPassword = '12345'; // Default admin password
        
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash).toString(16);
        }

        const defaultProducts = [
            {
                id: 1,
                title: 'Ø¯ÙˆØ±Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„Ø´Ø§Ù…Ù„Ø©',
                description: 'Ø¯ÙˆØ±Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© ØªØºØ·ÙŠ Ø¬Ù…ÙŠØ¹ Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©',
                price: 199,
                icon: 'âš™ï¸',
                duration: '30 Ø³Ø§Ø¹Ø©',
                students: '2500+',
                badge: 'Best Seller',
                free: false
            },
            {
                id: 2,
                title: 'Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†',
                description: 'Ø´Ø±Ø­ Ø³Ù‡Ù„ ÙˆÙˆØ§Ø¶Ø­ Ù„Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ© Ù…Ø¹ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©',
                price: 149,
                icon: 'âš¡',
                duration: '25 Ø³Ø§Ø¹Ø©',
                students: '1800+',
                badge: 'New',
                free: false
            },
            {
                id: 3,
                title: 'Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆØ§Ù„ÙƒÙ…ÙŠØ©',
                description: 'Ø¯ÙˆØ±Ø© Ù…ØªÙ‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆØ§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ…ÙŠØ©',
                price: 249,
                icon: 'ğŸŒŒ',
                duration: '35 Ø³Ø§Ø¹Ø©',
                students: '1200+',
                badge: 'Advanced',
                free: false
            },
            {
                id: 4,
                title: 'ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©',
                description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø´Ø§Ù…Ù„ Ù„ØªØ­Ø¶ÙŠØ± Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡',
                price: 299,
                icon: 'ğŸ“–',
                duration: '50 Ø³Ø§Ø¹Ø©',
                students: '3200+',
                badge: 'Popular',
                free: false
            },
            {
                id: 5,
                title: 'Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„ØªÙ…Ø§Ø±ÙŠÙ†',
                description: 'Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒØ¨ÙŠØ±Ø© Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø­Ù„ÙˆÙ„Ø© Ø¨Ø´Ø±Ø­ Ù…ÙØµÙ„',
                price: 99,
                icon: 'âœï¸',
                duration: '20 Ø³Ø§Ø¹Ø©',
                students: '1500+',
                badge: '',
                free: false
            },
            {
                id: 6,
                title: 'Ù…Ù„Ø®ØµØ§Øª Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ PDF',
                description: 'Ù…Ù„Ø®ØµØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„ÙƒÙ„ Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©',
                price: 0,
                icon: 'ğŸ“„',
                duration: 'Ù…Ù„ÙØ§Øª',
                students: '4000+',
                badge: 'Ù…Ø¬Ø§Ù†ÙŠ',
                free: true
            }
        ];

        let products = JSON.parse(localStorage.getItem('products')) || defaultProducts;
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currency = localStorage.getItem('currency') || 'SAR';
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let adminLoggedIn = false;
        let tempImageData = null;
        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        const currencySymbols = {
            'SAR': 'Ø±.Ø³',
            'AED': 'Ø¯.Ø¥',
            'EGP': 'Ø¬.Ù…',
            'KWD': 'd.Ùƒ',
            'DZD': 'Ø¯.Ø¬',
            'USD': '$',
            'EUR': 'â‚¬'
        };

        // Initialize page
        function initializePage() {
            const savedCurrency = localStorage.getItem('currency') || 'SAR';
            const savedEmail = localStorage.getItem('email') || 'info@alshahm-physics.com';
            const savedWhatsapp = localStorage.getItem('whatsapp') || '+966 50 123 4567';
            const savedWebsite = localStorage.getItem('website') || 'www.alshahm-physics.com';
            const savedTelegram = localStorage.getItem('telegram') || '@AlShahmPhysics';
            const savedFacebook = localStorage.getItem('facebook') || '';
            const savedTwitter = localStorage.getItem('twitter') || '';
            const savedYoutube = localStorage.getItem('youtube') || '';

            currency = savedCurrency;
            document.getElementById('displayEmail').textContent = savedEmail;
            document.getElementById('displayWhatsapp').textContent = savedWhatsapp;
            document.getElementById('displayWebsite').textContent = savedWebsite;
            document.getElementById('displayTelegram').textContent = savedTelegram;
            document.getElementById('currencySelect').value = savedCurrency;
            document.getElementById('emailInput').value = savedEmail;
            document.getElementById('whatsappInput').value = savedWhatsapp;
            document.getElementById('websiteInput').value = savedWebsite;
            document.getElementById('telegramInput').value = savedTelegram;
            document.getElementById('facebookInput').value = savedFacebook;
            document.getElementById('twitterInput').value = savedTwitter;
            document.getElementById('youtubeInput').value = savedYoutube;

            updateSocialLinks();
            renderProducts();
            updateCart();
        }

        // Render products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image" style="${product.image ? `background-image: url('${product.image}'); background-size: cover; background-position: center;` : 'background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);'} display: flex; align-items: center; justify-content: center; font-size: 48px; color: ${product.image ? 'transparent' : 'white'}; width: 100%; height: 200px; position: relative;">
                        ${!product.image ? product.icon : ''}
                        ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">${product.title}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-meta">
                            <span>â±ï¸ ${product.duration}</span>
                            <span>ğŸ‘¥ ${product.students}</span>
                        </div>
                        ${product.free ? 
                            `<div class="free-badge">ğŸ Ù…Ø¬Ø§Ù†ÙŠ</div>` :
                            `<div class="product-price">${product.price} ${currencySymbols[currency]}</div>`
                        }
                        <button class="btn" style="margin-top: ${product.free ? 'var(--space-16)' : '0'};" onclick="addToCart(${product.id})">
                            ${product.free ? 'ğŸ“¥ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬' : 'ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            if (product.free) {
                alert(`ğŸ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© "${product.title}" Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø©!`);
                // Add to purchased if logged in
                if (currentUser) {
                    if (!currentUser.purchasedProducts.includes(product.title)) {
                        currentUser.purchasedProducts.push(product.title);
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        const userIndex = users.findIndex(u => u.id === currentUser.id);
                        if (userIndex !== -1) {
                            users[userIndex] = currentUser;
                            localStorage.setItem('users', JSON.stringify(users));
                        }
                    }
                }
                return;
            }

            const existing = cart.find(item => item.id === productId);
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push({ 
                    id: product.id,
                    title: product.title,
                    price: product.price,
                    quantity: 1,
                    free: false
                });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            
            // Show success message
            const msg = document.createElement('div');
            msg.style.position = 'fixed';
            msg.style.bottom = '20px';
            msg.style.right = '20px';
            msg.style.background = 'var(--color-success)';
            msg.style.color = 'white';
            msg.style.padding = '12px 24px';
            msg.style.borderRadius = 'var(--radius-base)';
            msg.style.zIndex = '10000';
            msg.style.boxShadow = 'var(--shadow-lg)';
            msg.innerHTML = `âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© "${product.title}" Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`;
            document.body.appendChild(msg);
            setTimeout(() => msg.remove(), 3000);

            // Open cart modal
            document.getElementById('cartModal').classList.add('active');
        }

        // Update cart display
        function updateCart() {
            const cartBadge = document.getElementById('cartBadge');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const checkoutBtn = document.getElementById('checkoutBtn');
            const emptyMsg = document.getElementById('emptyMsg');
            const currencyDisplay = document.getElementById('currencyDisplay');

            cart = cart.filter(item => !item.free);

            if (cart.length === 0) {
                cartBadge.style.display = 'none';
                cartItems.innerHTML = '';
                cartTotal.style.display = 'none';
                checkoutBtn.style.display = 'none';
                emptyMsg.style.display = 'block';
                return;
            }

            cartBadge.style.display = 'flex';
            cartBadge.textContent = cart.length;
            emptyMsg.style.display = 'none';

            let total = 0;
            cartItems.innerHTML = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                return `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.title}</div>
                            <div class="cart-item-price">${item.price} ${currencySymbols[currency]} Ã— ${item.quantity}</div>
                        </div>
                        <button class="remove-btn" onclick="removeFromCart(${item.id})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                    </div>
                `;
            }).join('');

            document.getElementById('totalAmount').textContent = total;
            currencyDisplay.textContent = currencySymbols[currency];
            cartTotal.style.display = 'block';
            checkoutBtn.style.display = 'block';

            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
        }

        // Toggle cart modal
        function toggleCart() {
            document.getElementById('cartModal').classList.toggle('active');
        }

        // Toggle user profile
        function toggleUserProfile() {
            const modal = document.getElementById('userProfileModal');
            if (!currentUser) {
                document.getElementById('loginModal').classList.add('active');
                return;
            }

            const profileHTML = `
                <div class="profile-section">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatarDisplay" style="background-image: ${currentUser.hasImage ? `url('${currentUser.avatar}')` : 'none'}; background-size: cover; background-position: center;">${!currentUser.hasImage ? currentUser.avatar : ''}</div>
                        <div class="profile-info">
                            <h3 id="profileNameDisplay">${currentUser.name} ${currentUser.lastname || ''}</h3>
                            <p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${currentUser.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                            <p>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${currentUser.phone || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                            <p>ğŸ“… Ø¹Ø¶Ùˆ Ù…Ù†Ø°: ${currentUser.joinDate}</p>
                        </div>
                    </div>
                    <button class="btn btn-secondary" style="width: 100%; margin-top: var(--space-12);" onclick="changeProfile()">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</button>
                </div>
                <button class="btn" style="width: 100%; margin-bottom: var(--space-16);" onclick="openPurchaseHistory()">ğŸ›ï¸ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</button>
                <div class="admin-section" style="margin-top: var(--space-16); background: var(--color-light); padding: var(--space-16); border-radius: var(--radius-base);">
                    <h3>ğŸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø´ØªØ±Ø§Ø©</h3>
                    <p style="color: #6B7280; margin: 0;">${currentUser.purchasedProducts && currentUser.purchasedProducts.length > 0 ? currentUser.purchasedProducts.join('<br>') : 'Ù„Ù… ØªÙ‚Ù… Ø¨Ø´Ø±Ø§Ø¡ Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†'}</p>
                </div>
                <button class="btn btn-danger" style="width: 100%; margin-top: var(--space-16);" onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
            `;

            document.getElementById('profileContent').innerHTML = profileHTML;
            modal.classList.add('active');
        }

        // Show signup modal
        function showSignupModal() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('signupModal').classList.add('active');
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('signupOptions').style.display = 'block';
        }

        // Switch to login form
        function switchToLoginForm() {
            document.getElementById('loginOptions').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('loginEmail').focus();
        }

        // Handle login
        function handleLogin(event) {
            event.preventDefault();

            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            const user = users.find(u => u.email === email);
            
            if (!user) {
                alert('âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± Ù…Ø³Ø¬Ù„');
                return;
            }

            // For full signup form accounts with password
            if (user.password) {
                try {
                    const decodedPassword = atob(user.password);
                    if (decodedPassword !== password) {
                        alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                        return;
                    }
                } catch(e) {
                    if (user.password !== password) {
                        alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                        return;
                    }
                }
            } else {
                // For quick signup accounts (don't have passwords)
                alert('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±. ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.');
                return;
            }

            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            document.getElementById('loginForm').reset();
            document.getElementById('loginModal').classList.remove('active');
            alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‰');
            toggleUserProfile();
        }

        // Close signup modal
        function closeSignupModal() {
            document.getElementById('signupModal').classList.remove('active');
            tempImageData = null;
        }

        // Switch to form
        function switchToForm() {
            document.getElementById('signupOptions').style.display = 'none';
            document.getElementById('signupForm').style.display = 'block';
        }

        // Quick signup with form (Emoji or Image)
        function quickSignup() {
            document.getElementById('signupOptions').style.display = 'none';
            document.getElementById('quickSignupForm').style.display = 'block';
        }

        // Handle quick signup form submission
        function submitQuickSignup(event) {
            event.preventDefault();
            
            const name = document.getElementById('quickName').value.trim();
            const lastname = document.getElementById('quickLastname').value.trim();
            const email = document.getElementById('quickEmail').value.trim();
            const phone = document.getElementById('quickPhone').value.trim();
            const useImage = document.getElementById('quickUseImage').checked;
            const imageFile = document.getElementById('quickImageFile').files[0];
            const emojiInput = document.getElementById('quickEmoji').value.trim();

            if (!name || !lastname || !email || !phone) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            if (useImage && !imageFile) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©');
                return;
            }

            if (!useImage && !emojiInput) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§ÙŠÙ…ÙˆØ¬ÙŠ');
                return;
            }

            // Check if email exists
            const existingUser = users.find(u => u.email === email);
            if (existingUser) {
                alert('âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„');
                return;
            }

            if (useImage && imageFile) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    currentUser = {
                        id: Date.now(),
                        name: name,
                        lastname: lastname,
                        email: email,
                        phone: phone,
                        avatar: event.target.result,
                        joinDate: new Date().toLocaleDateString('ar-SA'),
                        purchasedProducts: [],
                        hasImage: true
                    };
                    saveAndCompleteSignup();
                };
                reader.readAsDataURL(imageFile);
            } else {
                currentUser = {
                    id: Date.now(),
                    name: name,
                    lastname: lastname,
                    email: email,
                    phone: phone,
                    avatar: emojiInput || 'ğŸ‘¤',
                    joinDate: new Date().toLocaleDateString('ar-SA'),
                    purchasedProducts: [],
                    hasImage: false
                };
                saveAndCompleteSignup();
            }
        }

        function saveAndCompleteSignup() {
            users.push(currentUser);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‰');
            
            // Reset form
            document.getElementById('quickSignupForm').reset();
            document.getElementById('signupModal').classList.remove('active');
            toggleUserProfile();
        }

        // Toggle image/emoji mode in quick signup
        function toggleImageMode() {
            const useImage = document.getElementById('quickUseImage').checked;
            document.getElementById('imageMode').style.display = useImage ? 'block' : 'none';
            document.getElementById('emojiMode').style.display = useImage ? 'none' : 'block';
        }

        // Handle image upload
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('profileImage');
            if (fileInput) {
                fileInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            tempImageData = event.target.result;
                            document.getElementById('avatarPreview').style.backgroundImage = `url('${tempImageData}')`;
                            document.getElementById('avatarPreview').style.backgroundSize = 'cover';
                            document.getElementById('avatarPreview').style.backgroundPosition = 'center';
                            document.getElementById('avatarPreview').textContent = '';
                            document.getElementById('imageFileName').textContent = `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${file.name}`;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        // Create account
        function createAccount(event) {
            event.preventDefault();

            const name = document.getElementById('signupName').value.trim();
            const email = document.getElementById('signupEmail').value.trim();
            const phone = document.getElementById('signupPhone').value.trim();
            const password = document.getElementById('signupPassword').value;
            const passwordConfirm = document.getElementById('signupPasswordConfirm').value;

            if (!name || !email || !phone) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            if (password !== passwordConfirm) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                return;
            }

            if (password.length < 6) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }

            if (!tempImageData) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ù…Ù„Ù Ø´Ø®ØµÙŠ');
                return;
            }

            // Check if email exists
            const existingUser = users.find(u => u.email === email);
            if (existingUser) {
                alert('âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„');
                return;
            }

            currentUser = {
                id: Date.now(),
                name: name,
                email: email,
                phone: phone,
                password: btoa(password), // Simple encoding (not secure - for demo only)
                avatar: tempImageData,
                joinDate: new Date().toLocaleDateString('ar-SA'),
                purchasedProducts: [],
                hasImage: true
            };

            users.push(currentUser);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‰');
            
            // Reset form
            document.getElementById('signupForm').reset();
            tempImageData = null;
            document.getElementById('signupModal').classList.remove('active');
            toggleUserProfile();
        }

        // Change profile
        function changeProfile() {
            const newName = prompt('Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', currentUser.name);
            if (newName !== null) currentUser.name = newName;
            
            const newLastname = prompt('Ø§Ù„Ù„Ù‚Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', currentUser.lastname || '');
            if (newLastname !== null) currentUser.lastname = newLastname;

            const newPhone = prompt('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', currentUser.phone || '');
            if (newPhone !== null) currentUser.phone = newPhone;

            const changeImage = confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØºÙŠÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ / Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠØŸ');
            if (changeImage) {
                const useEmoji = confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§ÙŠÙ…ÙˆØ¬ÙŠØŸ (Ø¥Ù„ØºØ§Ø¡ Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©)');
                if (useEmoji) {
                    const newEmoji = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', currentUser.avatar);
                    if (newEmoji) {
                        currentUser.avatar = newEmoji;
                        currentUser.hasImage = false;
                    }
                } else {
                    const fileInput = document.createElement('input');
                    fileInput.type = 'file';
                    fileInput.accept = 'image/*';
                    fileInput.onchange = e => {
                        const file = e.target.files[0];
                        if (file) {
                            const reader = new FileReader();
                            reader.onload = event => {
                                currentUser.avatar = event.target.result;
                                currentUser.hasImage = true;
                                saveProfileChanges();
                            };
                            reader.readAsDataURL(file);
                        }
                    };
                    fileInput.click();
                    return; // Will save in onload
                }
            }

            saveProfileChanges();
        }

        function saveProfileChanges() {
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            // Update in users list too
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
            }
            toggleUserProfile();
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­!');
        }

        // Logout
        function logout() {
            currentUser = null;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            document.getElementById('userProfileModal').classList.remove('active');
        }

        // Admin Access - Hidden method
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F1') {
                e.preventDefault();
                document.getElementById('adminModal').classList.add('active');
                
                if (adminLoggedIn) {
                    document.getElementById('adminLoginForm').style.display = 'none';
                    document.getElementById('adminPanel').style.display = 'block';
                    document.getElementById('adminPanel').style.visibility = 'visible';
                    loadAdminPanel();
                } else {
                    document.getElementById('adminLoginForm').style.display = 'block';
                    document.getElementById('adminPanel').style.display = 'none';
                    document.getElementById('adminPanel').style.visibility = 'hidden';
                }
            }
        });

        // Verify admin
        function verifyAdmin() {
            const savedPassword = localStorage.getItem('adminPassword') || '12345';
            const password = document.getElementById('adminPassword').value;
            if (password === savedPassword) {
                adminLoggedIn = true;
                document.getElementById('adminLoginForm').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('adminPanel').style.visibility = 'visible';
                document.getElementById('adminPassword').value = '';
                loadAdminPanel();
            } else {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        // Load admin panel
        function loadAdminPanel() {
            renderAdminProducts();
            renderAdminOrders();
        }

        // Render orders for admin
        function renderAdminOrders() {
            const list = document.getElementById('ordersListAdmin');
            
            if (orders.length === 0) {
                list.innerHTML = '<p style="color: #6B7280; text-align: center; margin: 0;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            list.innerHTML = orders.map((order, index) => `
                <div style="background: white; padding: var(--space-16); border: 1px solid var(--color-border); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                    <div style="display: flex; justify-content: space-between; align-items: start; gap: var(--space-16); margin-bottom: var(--space-16);">
                        <div style="flex: 1;">
                            <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-text);">ğŸ†” Ø§Ù„Ø·Ù„Ø¨ #${order.id}</h4>
                            <div style="display: flex; align-items: center; gap: var(--space-16); margin-bottom: var(--space-12);">
                                <div class="profile-avatar" style="width: 60px; height: 60px; background-image: ${order.hasImage ? `url('${order.avatar}')` : 'none'}; background-size: cover; background-position: center; font-size: 24px;">${!order.hasImage ? order.avatar : ''}</div>
                                <div>
                                    <p style="margin: 0 0 var(--space-4) 0; font-weight: 600; color: var(--color-text);">${order.userName}</p>
                                    <p style="margin: 0 0 var(--space-4) 0; color: #6B7280; font-size: 14px;">ğŸ“§ ${order.email}</p>
                                    <p style="margin: 0 0 var(--space-4) 0; color: #6B7280; font-size: 14px;">ğŸ“± ${order.phone}</p>
                                    <p style="margin: 0; color: #6B7280; font-size: 12px;">ğŸ“… ${order.orderDate}</p>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: left;">
                            <div style="background: var(--color-light); padding: var(--space-8) var(--space-12); border-radius: var(--radius-base); margin-bottom: var(--space-8); text-align: center;">
                                <p style="margin: 0; color: var(--color-primary); font-weight: 600; font-size: 18px;">${order.total} ${currencySymbols[currency]}</p>
                            </div>
                            ${order.paymentConfirmed ? '<span style="background: var(--color-success); color: white; padding: var(--space-4) var(--space-8); border-radius: var(--radius-base); font-size: 12px; font-weight: 600;">âœ… ØªÙ…Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨</span>' : '<span style="background: #FFA500; color: white; padding: var(--space-4) var(--space-8); border-radius: var(--radius-base); font-size: 12px; font-weight: 600;">â³ ØªØ­Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>'}
                        </div>
                    </div>
                    
                    <div style="background: var(--color-light); padding: var(--space-12); border-radius: var(--radius-base); margin-bottom: var(--space-12);">
                        <p style="margin: 0 0 var(--space-8) 0; font-weight: 600; color: var(--color-text);">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</p>
                        ${order.products.map(p => `<p style="margin: 0 0 var(--space-4) 0; color: #6B7280; font-size: 14px;">â€¢ ${p.title} (${p.price} ${currencySymbols[currency]} Ã— ${p.quantity})</p>`).join('')}
                    </div>

                    <div style="display: flex; flex-direction: column; gap: var(--space-8);">
                        <div style="display: flex; gap: var(--space-8);">
                            ${!order.paymentConfirmed ? 
                                `<button class="btn" style="flex: 1; padding: var(--space-8);" onclick="openPaymentConfirmModal(${order.id})">ğŸ’° ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>` :
                                `<button class="btn btn-secondary" style="flex: 1; padding: var(--space-8);" disabled>ğŸ’° ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>`
                            }
                            ${order.paymentConfirmed && order.deliveryStatus !== 'delivered' ? 
                                `<button class="btn" style="flex: 1; padding: var(--space-8); background: var(--color-success);" onclick="markAsDelivered(${order.id})">ğŸšš ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠÙ…</button>` :
                                order.deliveryStatus === 'delivered' ?
                                `<button class="btn btn-secondary" style="flex: 1; padding: var(--space-8);" disabled>âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…</button>` :
                                `<button class="btn btn-secondary" style="flex: 1; padding: var(--space-8);" disabled title="ÙŠØ¬Ø¨ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø£ÙˆÙ„Ø§Ù‹">ğŸšš ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠÙ…</button>`
                            }
                        </div>
                        <button class="btn btn-danger" style="width: 100%; padding: var(--space-8);" onclick="rejectOrder(${order.id})">âŒ Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨</button>
                    </div>
                </div>
            `).join('');
        }

        // Open payment confirmation modal
        function openPaymentConfirmModal(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;

            const content = document.getElementById('paymentConfirmContent');
            content.innerHTML = `
                <div style="background: var(--color-light); padding: var(--space-16); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                    <p style="margin: 0 0 var(--space-8) 0; font-weight: 600; color: var(--color-text);">ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨:</p>
                    <p style="margin: 0 0 var(--space-4) 0; color: #6B7280; font-size: 14px;">Ø§Ù„Ø¹Ù…ÙŠÙ„: ${order.userName}</p>
                    <p style="margin: 0 0 var(--space-4) 0; color: #6B7280; font-size: 14px;">Ø§Ù„Ø¨Ø±ÙŠØ¯: ${order.email}</p>
                    <p style="margin: 0; color: #6B7280; font-size: 14px;">Ø§Ù„Ù…Ø¨Ù„Øº: ${order.total} ${currencySymbols[currency]}</p>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ“ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                    <textarea id="confirmMessage" class="form-control" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„... Ù…Ø«Ù„: Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ÙƒØŒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø³ÙŠØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…" style="min-height: 120px;"></textarea>
                    <p style="font-size: 12px; color: #6B7280; margin-top: var(--space-8); margin-bottom: 0;">ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ÙƒØªØ§Ø¨Ø© Ø±Ø³Ø§Ù„Ø© Ø´ÙƒØ± Ø£Ùˆ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ø¹Ù…ÙŠÙ„</p>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ–¼ï¸ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                    <input type="file" id="confirmMessageImage" class="form-control" accept="image/*">
                    <div style="margin-top: var(--space-12); padding: var(--space-12); background: white; border: 1px dashed var(--color-border); border-radius: var(--radius-base); text-align: center; display: none;" id="confirmImagePreview">
                        <img id="confirmImagePreviewImg" style="max-width: 100%; max-height: 200px; border-radius: var(--radius-base); margin-bottom: var(--space-8);">
                        <p style="margin: 0; font-size: 12px; color: #6B7280;" id="confirmImageFileName">ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø©</p>
                    </div>
                </div>

                <div style="background: #F0F9FF; border-left: 4px solid var(--color-primary); padding: var(--space-16); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                    <p style="margin: 0; font-size: 13px; color: var(--color-text);"><strong>â„¹ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ø³ØªØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ù„ØµÙˆØ±Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø¹Ø§Ù‹.</p>
                </div>

                <div style="display: flex; gap: var(--space-8);">
                    <button class="btn" style="flex: 1;" onclick="confirmPaymentWithMessage(${orderId})">âœ… ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„</button>
                    <button class="btn btn-secondary" style="flex: 1;" onclick="closePaymentConfirmModal()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            `;

            // Handle image upload preview
            const imageInput = document.getElementById('confirmMessageImage');
            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('confirmImagePreview').style.display = 'block';
                        document.getElementById('confirmImagePreviewImg').src = event.target.result;
                        document.getElementById('confirmImageFileName').textContent = `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${file.name}`;
                        currentConfirmImage = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });

            document.getElementById('paymentConfirmModal').classList.add('active');
        }

        // Close payment confirmation modal
        function closePaymentConfirmModal() {
            document.getElementById('paymentConfirmModal').classList.remove('active');
            currentConfirmImage = null;
        }

        let currentConfirmImage = null;

        // Confirm payment with message and image
        function confirmPaymentWithMessage(orderId) {
            // Find the order index to ensure we update the original array
            const orderIndex = orders.findIndex(o => o.id === orderId);
            if (orderIndex === -1) {
                alert('âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨');
                return;
            }

            const order = orders[orderIndex];
            const message = document.getElementById('confirmMessage').value.trim();
            const imageData = currentConfirmImage;

            // Update order status
            order.paymentConfirmed = true;
            order.status = 'confirmed';
            order.deliveryStatus = order.deliveryStatus === 'pending' ? 'pending' : order.deliveryStatus;
            order.estimatedDelivery = 'Ø®Ù„Ø§Ù„ 3-5 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„';
            order.adminMessage = message;
            order.adminMessageImage = imageData;

            // Update user's purchased products
            const userIndex = users.findIndex(u => u.id === order.userId);
            if (userIndex !== -1) {
                const user = users[userIndex];
                if (!user.purchasedProducts) user.purchasedProducts = [];
                order.products.forEach(p => {
                    if (!user.purchasedProducts.includes(p.title)) {
                        user.purchasedProducts.push(p.title);
                    }
                });
                localStorage.setItem('users', JSON.stringify(users));
                
                // Update current session if it's the same user
                if (currentUser && currentUser.id === user.id) {
                    currentUser = user;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
            }

            // Save all orders back to localStorage
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Refresh UI
            renderAdminOrders();
            closePaymentConfirmModal();

            let messageText = `âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ù„Ù„Ø·Ù„Ø¨ #${orderId}!\n\nğŸ“§ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨:\n${order.email}`;
            if (message) messageText += `\n\nğŸ“ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: ${message}`;
            alert(messageText);
        }

        // Reject order
        function rejectOrder(orderId) {
            if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø±ÙØ¶ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ')) return;

            orders = orders.filter(o => o.id !== orderId);
            localStorage.setItem('orders', JSON.stringify(orders));
            renderAdminOrders();
            alert('âœ… ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨!');
        }

        // Mark as delivered by admin
        function markAsDelivered(orderId) {
            if (!confirm('Ù‡Ù„ ØªØ¤ÙƒØ¯ Ø£Ù†Ù‡ ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø²Ø¨ÙˆÙ†ØŸ')) return;
            const orderIndex = orders.findIndex(o => o.id === orderId);
            if (orderIndex !== -1) {
                orders[orderIndex].deliveryStatus = 'delivered';
                localStorage.setItem('orders', JSON.stringify(orders));
                renderAdminOrders();
                alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ "ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…" Ø¨Ù†Ø¬Ø§Ø­!');
            } else {
                alert('âŒ Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨');
            }
        }

        // Change admin password
        function changeAdminPassword() {
            const currentPassword = document.getElementById('currentAdminPassword').value;
            const newPassword = document.getElementById('newAdminPassword').value;
            const confirmPassword = document.getElementById('confirmAdminPassword').value;

            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            if (currentPassword !== adminPassword) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }

            if (newPassword.length < 6) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('âŒ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                return;
            }

            if (newPassword === currentPassword) {
                alert('âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…Ø®ØªÙ„ÙØ© Ø¹Ù† Ø§Ù„Ø­Ø§Ù„ÙŠØ©');
                return;
            }

            adminPassword = newPassword;
            localStorage.setItem('adminPassword', adminPassword);

            document.getElementById('currentAdminPassword').value = '';
            document.getElementById('newAdminPassword').value = '';
            document.getElementById('confirmAdminPassword').value = '';

            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
        }

        let productImageData = null;

        // Handle product image upload
        document.addEventListener('DOMContentLoaded', function() {
            const productImageInput = document.getElementById('productImage');
            if (productImageInput) {
                productImageInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            productImageData = event.target.result;
                            document.getElementById('productImagePreview').style.display = 'block';
                            document.getElementById('productImagePreviewImg').src = event.target.result;
                            document.getElementById('productImageFileName').textContent = `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${file.name}`;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        // Add product
        function addProduct() {
            const title = document.getElementById('productTitle').value;
            const description = document.getElementById('productDescription').value;
            const price = parseFloat(document.getElementById('productPrice').value) || 0;
            const icon = document.getElementById('productIcon').value || 'ğŸ“š';
            const duration = document.getElementById('productDuration').value || '30 Ø³Ø§Ø¹Ø©';
            const students = document.getElementById('productStudents').value || '0+';
            const isFree = document.getElementById('productFree').checked;

            if (!title || !description) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            const newProduct = {
                id: Date.now(),
                title,
                description,
                price: isFree ? 0 : price,
                icon,
                duration,
                students,
                badge: 'New',
                free: isFree,
                image: productImageData,
                createdDate: new Date().getTime()
            };

            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));

            // Clear form
            document.getElementById('productTitle').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productIcon').value = 'ğŸ“š';
            document.getElementById('productDuration').value = '30 Ø³Ø§Ø¹Ø©';
            document.getElementById('productStudents').value = '0+';
            document.getElementById('productFree').checked = false;
            document.getElementById('productImage').value = '';
            document.getElementById('productImagePreview').style.display = 'none';
            productImageData = null;

            renderProducts();
            renderAdminProducts();
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! âœ¨ ØªÙ… ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© "New" ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
        }

        // Render admin products list
        function renderAdminProducts() {
            const list = document.getElementById('adminProductsList');
            list.innerHTML = products.map(product => `
                <div class="product-item">
                    <div class="product-item-info">
                        <div class="product-item-title">${product.icon} ${product.title} ${product.badge ? `<span style="background: var(--color-accent); color: white; padding: 2px 6px; border-radius: 4px; font-size: 11px; margin-right: 8px;">${product.badge}</span>` : ''}</div>
                        <div class="product-item-details">
                            ${product.free ? 'ğŸ Ù…Ø¬Ø§Ù†ÙŠ' : `ğŸ’° ${product.price} ${currencySymbols[currency]}`} â€¢ 
                            â±ï¸ ${product.duration} â€¢ ğŸ‘¥ ${product.students}
                        </div>
                    </div>
                    <div class="product-item-actions">
                        <button class="btn btn-secondary btn-small" onclick="openEditProductModal(${product.id})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="btn btn-danger btn-small" onclick="deleteProduct(${product.id})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        // Delete product
        function deleteProduct(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('products', JSON.stringify(products));
                renderProducts();
                renderAdminProducts();
                alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!');
            }
        }

        // Open edit product modal
        function openEditProductModal(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            const editContent = `
                <div class="form-group">
                    <label class="form-label">ğŸ“ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
                    <input type="text" id="editProductTitle" class="form-control" value="${product.title}" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
                </div>
                <div class="form-group">
                    <label class="form-label">ğŸ“„ Ø§Ù„ÙˆØµÙ:</label>
                    <textarea id="editProductDescription" class="form-control" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬">${product.description}</textarea>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label class="form-label">ğŸ’° Ø§Ù„Ø³Ø¹Ø±:</label>
                        <input type="number" id="editProductPrice" class="form-control" value="${product.price}" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ğŸ¨ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©:</label>
                        <input type="text" id="editProductIcon" class="form-control" value="${product.icon}" maxlength="2" placeholder="ğŸ“š">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label class="form-label">â±ï¸ Ø§Ù„Ù…Ø¯Ø©:</label>
                        <input type="text" id="editProductDuration" class="form-control" value="${product.duration}" placeholder="30 Ø³Ø§Ø¹Ø©">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ğŸ‘¥ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨:</label>
                        <input type="text" id="editProductStudents" class="form-control" value="${product.students}" placeholder="2500+">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label class="form-label">ğŸ·ï¸ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© (Badge):</label>
                        <input type="text" id="editProductBadge" class="form-control" value="${product.badge || ''}" placeholder="New, Best Seller, etc...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="editProductFree" ${product.free ? 'checked' : ''}> 
                            ğŸ Ù…Ù†ØªØ¬ Ù…Ø¬Ø§Ù†ÙŠ
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">ğŸ–¼ï¸ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬:</label>
                    <input type="file" id="editProductImage" class="form-control" accept="image/*">
                    ${product.image ? `<p style="font-size: 12px; color: #6B7280; margin-top: 8px;">âœ… ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© Ø­Ø§Ù„ÙŠØ©</p>` : `<p style="font-size: 12px; color: #6B7280; margin-top: 8px;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</p>`}
                </div>
                <div style="display: flex; gap: var(--space-8); margin-top: var(--space-24);">
                    <button class="btn" style="flex: 1;" onclick="saveProductEdit(${id})">âœ… Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
                    <button class="btn btn-secondary" style="flex: 1;" onclick="closeEditProductModal()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            `;

            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.id = 'editProductModal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h2>
                        <button class="close-btn" onclick="closeEditProductModal()">âœ•</button>
                    </div>
                    ${editContent}
                </div>
            `;

            // Remove old modal if exists
            const oldModal = document.getElementById('editProductModal');
            if (oldModal) oldModal.remove();

            document.body.appendChild(modal);

            // Handle file upload for edit
            document.getElementById('editProductImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        currentEditImage = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        let currentEditImage = null;

        // Save product edit
        function saveProductEdit(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            const title = document.getElementById('editProductTitle').value.trim();
            const description = document.getElementById('editProductDescription').value.trim();
            const price = parseFloat(document.getElementById('editProductPrice').value) || 0;
            const icon = document.getElementById('editProductIcon').value || 'ğŸ“š';
            const duration = document.getElementById('editProductDuration').value || '30 Ø³Ø§Ø¹Ø©';
            const students = document.getElementById('editProductStudents').value || '0+';
            const badge = document.getElementById('editProductBadge').value.trim();
            const isFree = document.getElementById('editProductFree').checked;

            if (!title || !description) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            product.title = title;
            product.description = description;
            product.price = isFree ? 0 : price;
            product.icon = icon;
            product.duration = duration;
            product.students = students;
            product.badge = badge;
            product.free = isFree;

            if (currentEditImage) {
                product.image = currentEditImage;
                currentEditImage = null;
            }

            localStorage.setItem('products', JSON.stringify(products));
            renderProducts();
            renderAdminProducts();
            closeEditProductModal();
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!');
        }

        // Close edit product modal
        function closeEditProductModal() {
            const modal = document.getElementById('editProductModal');
            if (modal) modal.remove();
            currentEditImage = null;
        }

        // Update currency
        function updateCurrency() {
            currency = document.getElementById('currencySelect').value;
            localStorage.setItem('currency', currency);
            renderProducts();
            updateCart();
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù…Ù„Ø©!');
        }

        // Update contact info
        function updateContactInfo() {
            const email = document.getElementById('emailInput').value;
            const whatsapp = document.getElementById('whatsappInput').value;
            const website = document.getElementById('websiteInput').value;
            const telegram = document.getElementById('telegramInput').value;
            const facebook = document.getElementById('facebookInput').value;
            const twitter = document.getElementById('twitterInput').value;
            const youtube = document.getElementById('youtubeInput').value;

            if (!email || !whatsapp) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            localStorage.setItem('email', email);
            localStorage.setItem('whatsapp', whatsapp);
            localStorage.setItem('website', website);
            localStorage.setItem('telegram', telegram);
            localStorage.setItem('facebook', facebook);
            localStorage.setItem('twitter', twitter);
            localStorage.setItem('youtube', youtube);

            document.getElementById('displayEmail').textContent = email;
            document.getElementById('displayWhatsapp').textContent = whatsapp;
            document.getElementById('displayWebsite').textContent = website;
            document.getElementById('displayTelegram').textContent = telegram;

            updateSocialLinks();
            alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ø· Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©!');
        }

        // Update social media links
        function updateSocialLinks() {
            const facebook = localStorage.getItem('facebook') || '';
            const twitter = localStorage.getItem('twitter') || '';
            const telegram = localStorage.getItem('telegram') || '';
            const youtube = localStorage.getItem('youtube') || '';

            document.getElementById('socialFacebook').href = facebook;
            document.getElementById('socialTwitter').href = twitter;
            document.getElementById('socialTelegram').href = telegram;
            document.getElementById('socialYoutube').href = youtube;
        }

        // Checkout - Create order
        function checkout() {
            if (!currentUser) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            if (cart.length === 0) {
                alert('âš ï¸ Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ ÙØ§Ø±ØºØ©');
                return;
            }

            // Check for pending orders with same products
            const pendingOrders = orders.filter(o => 
                o.userId === currentUser.id && 
                o.status === 'pending'
            );

            for (let pendingOrder of pendingOrders) {
                for (let cartProduct of cart) {
                    const hasPendingProduct = pendingOrder.products.some(p => p.title === cartProduct.title);
                    if (hasPendingProduct) {
                        alert(`âš ï¸ Ù„Ø¯ÙŠÙƒ Ø·Ù„Ø¨ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ù†ÙØ³ Ø§Ù„Ù…Ù†ØªØ¬:\n\n"${cartProduct.title}"\n\nØ§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØªØµÙ„ Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.`);
                        return;
                    }
                }
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const items = cart.map(item => `â€¢ ${item.title}`).join('\n');
            
            const order = {
                id: Date.now(),
                userId: currentUser.id,
                userName: currentUser.name,
                email: currentUser.email,
                phone: currentUser.phone,
                avatar: currentUser.avatar,
                hasImage: currentUser.hasImage,
                products: cart.map(c => ({ title: c.title, price: c.price, quantity: c.quantity })),
                total: total,
                orderDate: new Date().toLocaleDateString('ar-SA'),
                status: 'pending',
                paymentConfirmed: false,
                deliveryStatus: 'pending',
                estimatedDelivery: 'Ù‚Ø±ÙŠØ¨Ø§Ù‹'
            };

            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));

            alert(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ!\n\nğŸ“‹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n${items}\n\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} ${currencySymbols[currency]}\n\nâ³ Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø¢Ù† ØªØ­Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù† Ø·Ø±Ù Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©\nğŸ“§ ÙˆØ³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹`);
            
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            toggleCart();
        }

        // Logout admin
        function logoutAdmin() {
            adminLoggedIn = false;
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('adminPanel').style.visibility = 'hidden';
            document.getElementById('adminLoginForm').style.display = 'block';
            document.getElementById('adminPassword').value = '';
            document.getElementById('adminModal').classList.remove('active');
        }

        // Close admin
        function closeAdmin() {
            if (adminLoggedIn) {
                logoutAdmin();
            }
            document.getElementById('adminModal').classList.remove('active');
        }

        // Show success message
        function showSuccessMsg() {
            const msg = document.getElementById('successMsg');
            msg.classList.add('show');
            setTimeout(() => msg.classList.remove('show'), 2000);
        }

        // Open purchase history
        function openPurchaseHistory() {
            if (!currentUser) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            const userOrders = orders.filter(o => o.userId === currentUser.id);
            const content = document.getElementById('purchaseHistoryContent');

            if (userOrders.length === 0) {
                content.innerHTML = `
                    <div class="empty-purchases">
                        <p style="font-size: 48px;">ğŸ“­</p>
                        <p style="font-weight: 600; font-size: 16px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
                        <p>Ø§Ø¨Ø¯Ø£ Ø¨ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø¹Ù…Ù„ÙŠØ© Ø´Ø±Ø§Ø¡</p>
                        <button class="btn" style="margin-top: var(--space-16);" onclick="closePurchaseHistory(); document.getElementById('productsGrid').scrollIntoView({behavior: 'smooth'});">ğŸ›’ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚</button>
                    </div>
                `;
            } else {
                content.innerHTML = `
                    <div class="purchases-container">
                        ${userOrders.map(order => `
                            <div class="purchase-card">
                                <div class="purchase-header">
                                    <div>
                                        <div class="purchase-order-id">ğŸ†” Ø·Ù„Ø¨ #${order.id}</div>
                                        <div class="purchase-date">ğŸ“… ${order.orderDate}</div>
                                    </div>
                                    <div style="text-align: left;">
                                        <div style="background: rgba(255, 255, 255, 0.2); padding: var(--space-8) var(--space-12); border-radius: var(--radius-base); backdrop-filter: blur(10px);">
                                            <p style="margin: 0; font-weight: 700; font-size: 18px;">${order.total} ${currencySymbols[currency]}</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="purchase-body">
                                    <!-- Status Bar -->
                                    <div class="purchase-status">
                                        <div class="status-item">
                                            <div class="status-icon">${order.paymentConfirmed ? 'âœ…' : 'â³'}</div>
                                            <div class="status-label">Ø§Ù„Ø¯ÙØ¹</div>
                                            <div class="status-value">${order.paymentConfirmed ? 'ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯' : 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©'}</div>
                                        </div>
                                        <div class="status-item">
                                            <div class="status-icon">${order.deliveryStatus === 'shipped' ? 'ğŸ“¦' : order.deliveryStatus === 'delivered' ? 'ğŸ ' : 'â±ï¸'}</div>
                                            <div class="status-label">Ø§Ù„ØªØ³Ù„ÙŠÙ…</div>
                                            <div class="status-value">${order.deliveryStatus === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯' : order.deliveryStatus === 'shipped' ? 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚' : 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…'}</div>
                                        </div>
                                        <div class="status-item">
                                            <div class="status-icon">${order.deliveryStatus === 'delivered' ? 'ğŸ‰' : 'ğŸ”„'}</div>
                                            <div class="status-label">Ø§Ù„Ø­Ø§Ù„Ø©</div>
                                            <div class="status-value">${order.deliveryStatus === 'delivered' ? 'Ù…ÙƒØªÙ…Ù„' : 'Ø¬Ø§Ø±ÙŠ'}</div>
                                        </div>
                                    </div>

                                    <!-- Delivery Info -->
                                    <div class="delivery-info">
                                        <div class="delivery-status">
                                            ${order.deliveryStatus === 'delivered' ? 'âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­' : 'ğŸšš ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ…'}
                                        </div>
                                        <div class="delivery-details">
                                            ${order.deliveryStatus === 'delivered' 
                                                ? `âœ¨ ØªÙ… ØªØ³Ù„ÙŠÙ… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù†Ø§` 
                                                : `â³ Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ${order.estimatedDelivery || 'Ù‚Ø±ÙŠØ¨Ø§Ù‹'}`
                                            }
                                        </div>
                                    </div>

                                    <!-- Products List -->
                                    <div class="purchase-products">
                                        <p style="font-weight: 600; margin: 0 0 var(--space-12) 0; color: var(--color-text);">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</p>
                                        ${order.products.map(p => `
                                            <div class="purchase-product-item">
                                                <div class="product-info">
                                                    <div class="product-title-purchase">ğŸ“š ${p.title}</div>
                                                    <div class="product-quantity">Ø§Ù„ÙƒÙ…ÙŠØ©: ${p.quantity}</div>
                                                </div>
                                                <div class="product-price-purchase">${p.price * p.quantity} ${currencySymbols[currency]}</div>
                                            </div>
                                        `).join('')}
                                    </div>

                                    <!-- Total -->
                                    <div class="purchase-total">
                                        <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                                        <span>${order.total} ${currencySymbols[currency]}</span>
                                    </div>

                                    <!-- Actions -->
                                    <div style="display: flex; flex-direction: column; gap: var(--space-8);">
                                        ${order.paymentConfirmed && order.deliveryStatus !== 'delivered' ? 
                                            `<button class="btn" style="width: 100%; background: var(--color-success);" onclick="confirmReceipt(${order.id})">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>` : ''
                                        }
                                        
                                        ${order.deliveryStatus === 'delivered' && !order.rated ? `
                                            <div style="background: #FFFBEB; padding: var(--space-12); border-radius: var(--radius-base); border: 1px solid #FEF3C7; margin-top: var(--space-8);">
                                                <p style="margin: 0 0 var(--space-8) 0; font-size: 14px; color: #92400E; font-weight: 600;">â­ Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ</p>
                                                <div style="display: flex; gap: 4px; margin-bottom: var(--space-8);">
                                                    ${[1,2,3,4,5].map(num => `<span onclick="rateOrder(${order.id}, ${num})" style="cursor: pointer; font-size: 20px;">â­</span>`).join('')}
                                                </div>
                                                <button class="btn" style="width: 100%; padding: var(--space-4); font-size: 12px;" onclick="document.getElementById('rating').scrollIntoView({behavior: 'smooth'})">Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ø§Ù‹ Ù…ÙØµÙ„Ø§Ù‹</button>
                                            </div>
                                        ` : order.rated ? `
                                            <div style="background: #F0FDF4; padding: var(--space-8); border-radius: var(--radius-base); text-align: center; font-size: 13px; color: #166534;">
                                                âœ… Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ: ${'â­'.repeat(order.ratingScore)}
                                            </div>
                                        ` : ''}

                                        <div style="display: flex; gap: var(--space-8);">
                                            ${order.deliveryStatus === 'delivered' ? 
                                                `<button class="btn btn-secondary" style="flex: 1; cursor: default;" disabled>âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…</button>` :
                                                `<button class="btn" style="flex: 1;" onclick="alert('ğŸšš Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø±ÙŠØ¨Ø§Ù‹...')">ğŸ“ ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨</button>`
                                            }
                                            <button class="btn btn-secondary" style="flex: 1;" onclick="downloadInvoice(${order.id})">ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            document.getElementById('purchaseHistoryModal').classList.add('active');
        }

        // Close purchase history
        function closePurchaseHistory() {
            document.getElementById('purchaseHistoryModal').classList.remove('active');
        }

        // Download invoice
        function downloadInvoice(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;

            const invoiceContent = `
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡ - Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: #${order.id}
Ø§Ù„ØªØ§Ø±ÙŠØ®: ${order.orderDate}
Ø§Ù„Ø¹Ù…ÙŠÙ„: ${order.userName}
Ø§Ù„Ø¨Ø±ÙŠØ¯: ${order.email}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:
${order.products.map(p => `â€¢ ${p.title} (${p.price} ${currencySymbols[currency]} Ã— ${p.quantity})`).join('\n')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${order.total} ${currencySymbols[currency]}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ø§Ù„Ø­Ø§Ù„Ø©:
Ø§Ù„Ø¯ÙØ¹: ${order.paymentConfirmed ? 'âœ… ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯' : 'â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©'}
Ø§Ù„ØªØ³Ù„ÙŠÙ…: ${order.deliveryStatus === 'delivered' ? 'âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…' : 'ğŸ“¦ Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯'}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ ØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹Ù†Ø§!
Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø­Ù… Ù„Ù„ÙÙŠØ²ÙŠØ§Ø¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `;

            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(invoiceContent));
            element.setAttribute('download', `ÙØ§ØªÙˆØ±Ø©_${order.id}.txt`);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            
            alert('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©!');
        }

        // Confirm receipt by user
        function confirmReceipt(orderId) {
            if (!confirm('Ù‡Ù„ ØªØ¤ÙƒØ¯ Ø§Ø³ØªÙ„Ø§Ù…Ùƒ Ù„Ù„Ù…Ù†ØªØ¬/Ø§Ù„Ø¯ÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­ØŸ')) return;
            
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.deliveryStatus = 'delivered';
                localStorage.setItem('orders', JSON.stringify(orders));
                openPurchaseHistory();
                alert('ğŸ‰ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­.');
            }
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const cartModal = document.getElementById('cartModal');
            const userModal = document.getElementById('userProfileModal');
            const adminModal = document.getElementById('adminModal');
            const purchaseModal = document.getElementById('purchaseHistoryModal');

            if (event.target === cartModal) cartModal.classList.remove('active');
            if (event.target === userModal) userModal.classList.remove('active');
            if (event.target === adminModal) closeAdmin();
            if (event.target === purchaseModal) document.getElementById('purchaseHistoryModal').classList.remove('active');
        }

        let currentRating = 0;
        function setRating(rating) {
            currentRating = rating;
            const stars = document.querySelectorAll('#starRating .star');
            stars.forEach((star, index) => {
                star.style.color = index < rating ? '#FBBF24' : '#D1D5DB';
            });
        }

        function rateOrder(orderId, score) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.rated = true;
                order.ratingScore = score;
                localStorage.setItem('orders', JSON.stringify(orders));
                openPurchaseHistory();
                alert(`â­ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù€ ${score} Ù†Ø¬ÙˆÙ…!`);
            }
        }

        function submitRating() {
            if (currentRating === 0) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ø¬ÙˆÙ… Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            const comment = document.getElementById('ratingComment').value.trim();
            alert(`âœ… Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ùƒ (${currentRating} Ù†Ø¬ÙˆÙ…)!\n${comment ? 'ğŸ“ ØªØ¹Ù„ÙŠÙ‚Ùƒ: ' + comment : ''}\nØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­.`);
            
            // Reset
            setRating(0);
            document.getElementById('ratingComment').value = '';
        }

        // Initialize
        initializePage();
    </script>
</body>
</html>
